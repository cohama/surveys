list.md 更新手順（勉強会インデックスの作り方）
================================================

目的
------------------------------------------------
- 各回（第◯回）のレポートを一覧化した `list.md` を保守します。
- 既存行は保持し、追記のみ行います（上書きしない）。

出力フォーマット（Markdown テーブル）
------------------------------------------------
- 列順: 会 | ジャンル | アカウント | リンク | タイトル | 別名/キーワード
- 1本目（その回の最初の行）: 会番号を記入。
  例: `|46|NN一般 ViT|@cohama|https://arxiv.org/abs/2112.13492v1|Vision Transformer for Small-Size Datasets|ViT|`
- 2本目以降（同一回の続き）: 会番号セルは空にして `||` から始める。
  例: `||生成/GAN|@someone|https://arxiv.org/abs/xxxx.xxxxx|Paper Title|Alias|`

前提と方針
------------------------------------------------
- ソース: `*_reports/` ディレクトリ配下の各 Markdown（`README.md` は回情報）。
- 追加は「回ごと」に実施。まず 1 回ぶんを確認してから、複数回をまとめて追加可。
- 中間物は `_tmp/` 配下で管理（コミットしない）。

基本フロー
------------------------------------------------
1) 最終回の確認（`list.md`）
- 最後の回番号を確認。
  - `rg -n "^\|\s*([0-9]+)\s*\|" list.md | tail -n 1`

2) 対象フォルダの特定（次回以降）
- 各回は `YYYYMMDD_reports/` に対応、回番号は各フォルダの `README.md` 冒頭に「第◯回」。
  - 例: `sed -n '1,20p' 20220120_reports/README.md` → `第46回`

3) 各レポートから項目抽出
- 対象: フォルダ直下の `*.md`（`README.md` と画像・補助用のサブフォルダは除外）。
- タイトル（先頭 H1）:
  - `rg -n "^# " 20220120_reports/*.md | head`
- リンク（優先: arXiv、次: DOI/GitHub/公式ブログ/資料など）:
  - `rg -n "https?://" 20220120_reports/*.md`
- アカウント（`(まとめ @id)` または `@id` 記述）:
  - `rg -n "（?まとめ\s*@|\(@|^@" 20220120_reports/*.md`
- ジャンル（ヒューリスティック）:
  - 代表例: 物体検出, セグメンテーション, 3D/点群, 動画, 生成/GAN, Diffusion, 自然言語, マルチモーダル, 強化学習, 最適化/理論, 量子化/高速化, アノテーション/データセット, アーキテクチャ/Backbone, ViT/Transformer, 推薦, ネットワーク/TCP 等。
  - 必要に応じて複合可（スペース区切り、例: `3D 物体検出 点群`）。
- 別名/キーワード（任意）:
  - 代表例: YOLOv[3-8], DETR, DiNA/DiNAT, MaskFormer, MAE, ViT, Swin, NeRF, PointMLP/PointNeXt, ToMe, LDM, DDIM など。

4) 重複チェック
- 既存の `list.md` に同じリンクがないか確認（追加前に必ず確認）。
  - `rg -n "https?://arxiv.org/abs/2112.10752" list.md` のように検索。

5) 追記の作成と適用
- 1本目: `|<回>|<ジャンル>|@<account>|<link>|<title>|<alias>|`
- 2本目以降: `||<ジャンル>|@<account>|<link>|<title>|<alias>|`
- `list.md` 末尾に追加（既存の行は変更しない）。

6) バッチ追加（任意）
- 1 回ぶんを確認後、連続する回（例: 46–50, 51–60 など）を同様に処理。
- 各フォルダの `README.md` の「第◯回」を必ず突合（回番号の取り違い防止）。

品質チェック
------------------------------------------------
- テーブルの縦棒 `|` と列数が崩れていない。
- リンクが開ける（arXiv/DOI/GitHub/公式ページなど）。
- 回番号の連番、同一回の 2 行目以降が `||` で始まっている。
- 重複行がない（リンク基準）。

中間物の扱い
------------------------------------------------
- `_tmp/` に下書きや抽出結果を保存してよい（例: `_tmp/list_next_chunk.md`）。
- `_tmp/` 配下はコミットしない。

運用メモ（よくある論点）
------------------------------------------------
- arXiv がない場合は DOI・公式ページ・GitHub・資料など代表リンクを 1 つ選ぶ。
- ブログ解説記事（社内/外部）の場合も、ソースの内容に沿って分類して構わない。
- 画像/数式のみのメモはスキップ対象にし、後日本文追記後に登録してもよい。

付録: 抽出支援コマンド例
------------------------------------------------
- 回と日付の一覧: `for d in 2022* 2023*; do [ -f "$d/README.md" ] && echo "== $d ==" && sed -n '1,6p' "$d/README.md"; done`
- H1 とリンクとアカウントを一括抽出（単回）:
  - `rg -n "^# |https?://|（?まとめ\s*@|\(@|^@" 20220120_reports/*.md`

